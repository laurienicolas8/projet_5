{% extends 'template_backend.twig' %}

{% block head %}
<title>Modifier</title>
{% endblock %}

{% block content %}
<div class="d-flex title-category">
    <a href="javascript:history.back()" class="back_arrow"><i class="fa fa-arrow-left fa-2x" aria-hidden="true"></i></a>
    <h1>Modifier la cat√©gorie</h1>
</div>

<div class="form_new_container">
    {% for category in oneCategory %}
    <form action="/questionnary/update-category-{{ category.idCategory }}" method="post">
        <div class="form-group">
            <label for="name_category">Nom</label>
            <input type="text" class="form-control" id="name_category" name="nameCategory" value="{{ category.nameCategory }}" required>
        </div>
        <div class="form-group" id="image_category_container">
            <label for="image_category">Image</label>
            <input type="text" class="form-control" readonly id="image_category" name="imageCategory" value="{{ category.imageCategory }}" required>
            <a href="#" class="btn btn-secondary button_change_image">Changer d'image</a>
        </div>
        
        <button type="submit" id="valid_new_category" class="btn btn-success valid_new_button">Enregistrer</button>
        
    </form>
    
    {% endfor %}
</div>
{% endblock %}

{% block footer %}
<script>
$('#image_category_container a').click(function() {
    $('#image_category_container a').hide();
    $('#image_category_container input').replaceWith('<input type="file" class="form-control-file" id="image_category" name="imageCategory" required>');
})
</script>
{% endblock %}